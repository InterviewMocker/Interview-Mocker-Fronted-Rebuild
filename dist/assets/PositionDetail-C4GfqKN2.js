import{d as w,l as k,c as r,a as e,i as a,f as l,t as o,n as $,p as m,g as n,H as C,I as j,F as q,h as N,u as D,b as V,q as g,o as i}from"./index-B1_3jWiP.js";import{g as B,d as F}from"./position-DiI746tR.js";import{r as P}from"./ArrowLeftIcon-B7O66r4f.js";import{r as E}from"./PencilIcon-Cx_SwFD1.js";import{r as I}from"./TrashIcon-dWnjABfe.js";import{r as R}from"./DocumentTextIcon-CYhgIdGt.js";import{r as z}from"./ClockIcon-Sdcm571c.js";const H={class:"min-h-screen bg-gray-950 text-white p-6 lg:p-8"},L={class:"max-w-4xl mx-auto"},M={key:0,class:"text-center py-20 text-gray-500"},S={key:1,class:"space-y-8"},T={class:"flex items-start justify-between"},A={class:"space-y-4"},G={class:"flex items-center gap-3 mb-2"},J={class:"text-3xl font-bold text-white"},K={class:"text-gray-500 font-mono text-sm"},O={class:"flex items-center gap-3"},Q={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},U={class:"md:col-span-2 space-y-8"},W={class:"bg-gray-900/50 border border-gray-800 rounded-xl p-6"},X={class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},Y={class:"text-gray-300 leading-relaxed whitespace-pre-wrap"},Z={class:"bg-gray-900/50 border border-gray-800 rounded-xl p-6"},ee={class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},te={key:0,class:"flex flex-wrap gap-2"},se={key:1,class:"text-gray-500"},oe={class:"space-y-6"},re={class:"bg-gray-900 border border-gray-800 rounded-xl p-6 space-y-6"},ae={class:"space-y-4"},ie={class:"text-white"},le={class:"text-white"},ne={class:"pt-4 border-t border-gray-800 space-y-3"},de={class:"flex items-center justify-between"},ce={class:"text-sm text-gray-500 flex items-center gap-2"},ue={class:"text-white font-mono"},pe={class:"flex items-center justify-between"},xe={class:"text-sm text-gray-500 flex items-center gap-2"},me={class:"text-white font-mono"},ke=w({__name:"PositionDetail",setup(ge){const d=D(),f=V(),s=g(null),u=g(!1),y={junior:"初级",mid:"中级",senior:"高级",expert:"专家"},_={junior:"bg-green-900/30 text-green-400 border-green-800/50",mid:"bg-blue-900/30 text-blue-400 border-blue-800/50",senior:"bg-yellow-900/30 text-yellow-400 border-yellow-800/50",expert:"bg-red-900/30 text-red-400 border-red-800/50"};k(async()=>{const c=f.params.id;if(c){u.value=!0;try{const t=await B(c);s.value=t.data}catch(t){console.error("Failed to load position:",t),d.push("/positions")}finally{u.value=!1}}});function v(){s.value&&d.push(`/positions/${s.value.id}/edit`)}function b(){s.value&&d.push(`/interview/start?position_id=${s.value.id}`)}async function h(){if(!(!s.value||!confirm("确定要删除此岗位吗？")))try{await F(s.value.id),d.push("/positions")}catch(c){console.error("Delete failed:",c)}}return(c,t)=>{var x;return i(),r("div",H,[e("div",L,[u.value?(i(),r("div",M," 加载中... ")):s.value?(i(),r("div",S,[e("div",T,[e("div",A,[e("button",{onClick:t[0]||(t[0]=p=>a(d).back()),class:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors"},[l(a(P),{class:"w-4 h-4"}),t[1]||(t[1]=e("span",null,"返回列表",-1))]),e("div",null,[e("div",G,[e("h1",J,o(s.value.name),1),s.value.difficulty_level?(i(),r("span",{key:0,class:$(["px-2.5 py-0.5 rounded-full text-xs font-medium border",_[s.value.difficulty_level]])},o(y[s.value.difficulty_level]),3)):m("",!0)]),e("p",K,o(s.value.code),1)])]),e("div",O,[e("button",{onClick:v,class:"flex items-center gap-2 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-white rounded-lg border border-gray-700 transition-colors text-sm"},[l(a(E),{class:"w-4 h-4"}),t[2]||(t[2]=n(" 编辑 ",-1))]),e("button",{onClick:h,class:"flex items-center gap-2 px-3 py-1.5 bg-red-900/20 hover:bg-red-900/40 text-red-400 hover:text-red-300 rounded-lg border border-red-900/30 transition-colors text-sm"},[l(a(I),{class:"w-4 h-4"}),t[3]||(t[3]=n(" 删除 ",-1))])])]),e("div",Q,[e("div",U,[e("section",W,[e("h2",X,[l(a(C),{class:"w-5 h-5 text-emerald-500"}),t[4]||(t[4]=n(" 岗位描述 ",-1))]),e("p",Y,o(s.value.description||"暂无描述"),1)]),e("section",Z,[e("h2",ee,[l(a(j),{class:"w-5 h-5 text-emerald-500"}),t[5]||(t[5]=n(" 技能要求 ",-1))]),(x=s.value.required_skills)!=null&&x.length?(i(),r("div",te,[(i(!0),r(q,null,N(s.value.required_skills,p=>(i(),r("span",{key:p,class:"px-3 py-1.5 bg-gray-800 text-gray-200 border border-gray-700 rounded-lg text-sm"},o(p),1))),128))])):(i(),r("p",se,"暂无技能要求"))])]),e("div",oe,[e("div",re,[e("div",ae,[e("div",null,[t[6]||(t[6]=e("div",{class:"text-sm text-gray-500 mb-1"},"分类",-1)),e("div",ie,o(s.value.category||"未分类"),1)]),e("div",null,[t[7]||(t[7]=e("div",{class:"text-sm text-gray-500 mb-1"},"学历要求",-1)),e("div",le,o(s.value.education_requirement||"不限"),1)]),e("div",ne,[e("div",de,[e("span",ce,[l(a(R),{class:"w-4 h-4"}),t[8]||(t[8]=n(" 默认题数 ",-1))]),e("span",ue,o(s.value.default_question_count),1)]),e("div",pe,[e("span",xe,[l(a(z),{class:"w-4 h-4"}),t[9]||(t[9]=n(" 默认时长 ",-1))]),e("span",me,o(s.value.default_duration)+" min",1)])])]),e("button",{onClick:b,class:"w-full py-2.5 bg-emerald-500 hover:bg-emerald-600 text-white font-semibold rounded-lg shadow-lg shadow-emerald-500/20 transition-all"}," 开始模拟面试 ")])])])])):m("",!0)])])}}});export{ke as default};
